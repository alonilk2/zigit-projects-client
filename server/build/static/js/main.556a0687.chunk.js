(this["webpackJsonpzigit-projects-client"]=this["webpackJsonpzigit-projects-client"]||[]).push([[0],{154:function(e,t,r){},219:function(e,t,r){},220:function(e,t,r){},244:function(e,t,r){},248:function(e,t,r){"use strict";r.r(t);var n,a=r(0),c=r.n(a),i=r(28),s=r.n(i),o=(r(219),r(220),r(19)),u=r(103),l=r(13),j=r(17),d=r(6),b=r(107),p=r.n(b),O=r(333),h=r(337),f=r(334),x=r(332),m=r(308),v=r(335),g=r(336),w=r(327),y=r(263),C=r(26),k="accessToken",S="https://zigit-projects.herokuapp.com",N=r(3),W=r(45),I=r(47),P=r(62),A=r.n(P);function D(e){return B.apply(this,arguments)}function B(){return(B=Object(j.a)(Object(l.a)().mark((function e(t){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.post(S+"/users/login/",Object(I.a)({},t));case 2:return r=e.sent,e.abrupt("return",null===r||void 0===r?void 0:r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){return z.apply(this,arguments)}function z(){return(z=Object(j.a)(Object(l.a)().mark((function e(t){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.post(S+"/users/register/",Object(I.a)({},t));case 2:return r=e.sent,e.abrupt("return",null===r||void 0===r?void 0:r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=Object(W.b)("user/login",function(){var e=Object(j.a)(Object(l.a)().mark((function e(t,r){var n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D(t);case 3:return n=e.sent,e.abrupt("return",n);case 7:if(e.prev=7,e.t0=e.catch(0),"SyntaxError: Unexpected end of JSON input"===e.t0){e.next=11;break}return e.abrupt("return",r.rejectWithValue());case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}()),F=Object(W.b)("user/signup",function(){var e=Object(j.a)(Object(l.a)().mark((function e(t,r){var n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q(t);case 3:return n=e.sent,e.abrupt("return",n);case 7:if(e.prev=7,e.t0=e.catch(0),console.log(e.t0),"SyntaxError: Unexpected end of JSON input"===e.t0){e.next=12;break}return e.abrupt("return",r.rejectWithValue());case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}()),U=Object(W.c)({name:"user",initialState:{loggedIn:!1,user:null},extraReducers:(n={},Object(N.a)(n,E.fulfilled,(function(e,t){e.loggedIn=!0,e.user=t.payload})),Object(N.a)(n,E.rejected,(function(e,t){e.loggedIn=!1,e.user=null})),n)}).reducer,L=(r(154),r(325)),V=r(338),R=r(2);function M(e){var t=Object(a.useState)(),r=Object(d.a)(t,2),n=r[0],c=r[1],i=Object(a.useState)(),s=Object(d.a)(i,2),u=s[0],b=s[1],S=Object(a.useState)(!1),N=Object(d.a)(S,2),W=N[0],I=N[1],P=Object(C.b)(),A=Object(o.h)(),D=function(){var e=Object(j.a)(Object(l.a)().mark((function e(t){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n&&u){e.next=3;break}return e.abrupt("return",I(!0));case 3:return e.next=5,P(E({email:n.toLowerCase(),password:u}));case 5:(r=e.sent).type.endsWith("fulfilled")?(localStorage.setItem(k,r.payload.token),A("/projects",{replace:!0})):I(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(R.jsx)("div",{className:"main-container",children:Object(R.jsxs)("div",{className:"login-container",children:[Object(R.jsx)("div",{className:"image-col"}),Object(R.jsx)("div",{className:"form-col",children:Object(R.jsxs)(x.a,{maxWidth:"xs",children:[Object(R.jsx)(m.a,{}),Object(R.jsxs)(h.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[W&&Object(R.jsxs)(L.a,{severity:"error",children:[Object(R.jsx)(V.a,{children:"Error"}),"Please ensure the details entered are correct"]}),Object(R.jsx)(O.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(R.jsx)(p.a,{})}),Object(R.jsx)(y.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(R.jsxs)(h.a,{component:"form",onSubmit:D,noValidate:!0,sx:{mt:1},children:[Object(R.jsx)(w.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:n,onChange:function(e){return c(e.target.value)},error:!n&&W}),Object(R.jsx)(w.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:u,autoComplete:"current-password",onChange:function(e){return b(e.target.value)},error:!u&&W}),Object(R.jsx)(f.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),Object(R.jsxs)(v.a,{container:!0,children:[Object(R.jsx)(v.a,{item:!0,xs:!0}),Object(R.jsx)(v.a,{item:!0,children:Object(R.jsx)(g.a,{href:"/register",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]})]})})]})})}function J(e){var t=Object(a.useState)(),r=Object(d.a)(t,2),n=r[0],c=r[1],i=Object(a.useState)(),s=Object(d.a)(i,2),u=s[0],b=s[1],k=Object(a.useState)(!1),S=Object(d.a)(k,2),N=S[0],W=S[1],I=Object(C.b)(),P=Object(o.h)(),A=function(){var e=Object(j.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n&&u){e.next=3;break}return e.abrupt("return",W(!0));case 3:return e.next=5,I(F({email:n.toLowerCase(),password:u}));case 5:e.sent.type.endsWith("fulfilled")?P("/login"):W(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(R.jsx)("div",{className:"main-container",children:Object(R.jsxs)("div",{className:"login-container",children:[Object(R.jsx)("div",{className:"image-col"}),Object(R.jsx)("div",{className:"form-col",children:Object(R.jsxs)(x.a,{maxWidth:"xs",children:[Object(R.jsx)(m.a,{}),Object(R.jsxs)(h.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[N&&Object(R.jsxs)(L.a,{severity:"error",children:[Object(R.jsx)(V.a,{children:"Error"}),"Please ensure the details entered are correct"]}),Object(R.jsx)(O.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(R.jsx)(p.a,{})}),Object(R.jsx)(y.a,{component:"h1",variant:"h5",children:"Sign Up"}),Object(R.jsxs)(h.a,{component:"form",onSubmit:A,noValidate:!0,sx:{mt:1},children:[Object(R.jsx)(w.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:n,onChange:function(e){return c(e.target.value)},error:!n&&N}),Object(R.jsx)(w.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:u,autoComplete:"current-password",onChange:function(e){return b(e.target.value)},error:!u&&N}),Object(R.jsx)(f.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),Object(R.jsxs)(v.a,{container:!0,children:[Object(R.jsx)(v.a,{item:!0,xs:!0}),Object(R.jsx)(v.a,{item:!0,children:Object(R.jsx)(g.a,{href:"/login",variant:"body2",children:"Already have an account? Sign In"})})]})]})]})]})})]})})}r(244);var Y,T=r(170),H=r.n(T),$=r(167),G=r.n($),K=r(169),Q=r.n(K),X=r(168),Z=r.n(X),_=r(320),ee=r(340),te=r(339),re=r(319),ne=r(321),ae=r(71),ce=r.n(ae);function ie(){return se.apply(this,arguments)}function se(){return(se=Object(j.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.getItem(k)){e.next=2;break}return e.abrupt("return",Promise.reject("No access token set."));case 2:return e.next=4,A.a.get(S+"/projects",{headers:{Authorization:"Bearer "+localStorage.getItem(k)}});case 4:return t=e.sent,e.abrupt("return",null===t||void 0===t?void 0:t.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e){return ue.apply(this,arguments)}function ue(){return(ue=Object(j.a)(Object(l.a)().mark((function e(t){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.getItem(k)){e.next=2;break}return e.abrupt("return",Promise.reject("No access token set."));case 2:return e.next=4,A.a.get(S+"/comments/"+t,{headers:{Authorization:"Bearer "+localStorage.getItem(k)}});case 4:return r=e.sent,e.abrupt("return",null===r||void 0===r?void 0:r.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e){return je.apply(this,arguments)}function je(){return(je=Object(j.a)(Object(l.a)().mark((function e(t){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.getItem(k)){e.next=2;break}return e.abrupt("return",Promise.reject("No access token set."));case 2:return e.next=4,A.a.post(S+"/projects",t,{headers:{Authorization:"Bearer "+localStorage.getItem(k)}});case 4:return r=e.sent,e.abrupt("return",null===r||void 0===r?void 0:r.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e){return be.apply(this,arguments)}function be(){return(be=Object(j.a)(Object(l.a)().mark((function e(t){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.getItem(k)){e.next=2;break}return e.abrupt("return",Promise.reject("No access token set."));case 2:return e.next=4,A.a.post(S+"/comments",t,{headers:{Authorization:"Bearer "+localStorage.getItem(k)}});case 4:return r=e.sent,e.abrupt("return",null===r||void 0===r?void 0:r.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pe=Object(W.b)("projects/get",function(){var e=Object(j.a)(Object(l.a)().mark((function e(t){var r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ie();case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",t.rejectWithValue(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),Oe=Object(W.b)("projects/getcomments",function(){var e=Object(j.a)(Object(l.a)().mark((function e(t,r){var n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe(t);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",r.rejectWithValue(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}()),he=Object(W.b)("projects/add",function(){var e=Object(j.a)(Object(l.a)().mark((function e(t,r){var n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,le(t);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",r.rejectWithValue(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}()),fe=Object(W.b)("projects/addcomment",function(){var e=Object(j.a)(Object(l.a)().mark((function e(t,r){var n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de(t);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",r.rejectWithValue(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}()),xe=Object(W.c)({name:"projects",reducers:{search:function(e,t){e.search=t.payload}},initialState:{list:null,commentslist:null,search:null},extraReducers:(Y={},Object(N.a)(Y,pe.fulfilled,(function(e,t){e.list=t.payload})),Object(N.a)(Y,pe.rejected,(function(e,t){e.list=null})),Object(N.a)(Y,he.fulfilled,(function(e,t){e.list=t.payload})),Object(N.a)(Y,he.rejected,(function(e,t){e.list=null})),Object(N.a)(Y,Oe.fulfilled,(function(e,t){e.commentslist=t.payload})),Object(N.a)(Y,Oe.rejected,(function(e,t){e.commentslist=null})),Y)}),me=xe.actions.search,ve=xe.reducer;var ge=r(316),we=r(317),ye=r(343),Ce=r(344),ke=r.p+"static/media/spinner.35fbede9.svg";function Se(e){var t=Object(a.useState)(""),r=Object(d.a)(t,2),n=r[0],c=r[1],i=Object(a.useState)(!1),s=Object(d.a)(i,2),o=s[0],u=s[1],b=Object(a.useState)(!1),p=Object(d.a)(b,2),O=p[0],x=p[1],m=Object(C.b)(),v=e.parent,g=e.refres,y=function(){e.toggle(!e.open)},k=function(){var e=Object(j.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n.length){e.next=2;break}return e.abrupt("return",u(!0));case 2:return e.prev=2,x(!0),console.log(v),e.next=7,m(fe({comment:n,parent:v}));case 7:e.sent.type.endsWith("fulfilled")&&(g&&g(),y()),x(!1),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(2),x(!1),u(e.t0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}(),S=Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("br",{}),Object(R.jsx)(w.a,{required:!0,error:o&&0===(null===n||void 0===n?void 0:n.length),id:"outlined-required",variant:"outlined",label:"Comment",value:n,multiline:!0,sx:Ne.textField,onChange:function(e){return c(e.target.value)},fullWidth:!0})]});return Object(R.jsxs)(ge.a,{open:e.open,sx:Ne.dialogContainer,children:[Object(R.jsx)(we.a,{children:"Add New Comment"}),Object(R.jsxs)(ye.a,{children:[o&&Object(R.jsx)(L.a,{severity:"error",children:"All fields are required."}),S]}),Object(R.jsxs)(Ce.a,{children:[O&&Object(R.jsx)("img",{src:ke,width:50,alt:""}),Object(R.jsx)(f.a,{variant:"text",onClick:function(){y()},children:"Cancel"}),Object(R.jsx)(h.a,{sx:{flex:"1 1 auto"}}),Object(R.jsx)(f.a,{variant:"contained",onClick:k,children:"Create"})]})]})}var Ne={dialogContainer:{direction:"ltr",minWidth:"500px"},alert:{margin:"2%",direction:"ltr"},textField:{margin:"2% 0",border:"0px",overflow:"hidden"},CloudUploadIcon:{margin:"0 2% "},addWorkdays:{width:"100%",justifyContent:"center",alignItems:"center",display:"flex",padding:"2% 0",color:"rgba(0, 0, 0, 0.6)"},addButton:{bgcolor:"success"}},We=r(165),Ie=r.n(We),Pe=r(172),Ae=r(330),De=r(324),Be={0:"Active",1:"Finished",2:"Canceled"},qe=r(174),ze=r(322),Ee=r(318);function Fe(e){var t=Object(a.useState)(""),r=Object(d.a)(t,2),n=r[0],c=r[1],i=Object(a.useState)(""),s=Object(d.a)(i,2),o=s[0],u=s[1],b=Object(a.useState)(0),p=Object(d.a)(b,2),O=p[0],x=p[1],m=Object(a.useState)(ce()().format("YYYY-MM-DD")),v=Object(d.a)(m,2),g=v[0],y=v[1],k=Object(a.useState)([]),S=Object(d.a)(k,2),N=S[0],W=S[1],P=Object(a.useState)(!1),A=Object(d.a)(P,2),D=A[0],B=A[1],q=Object(a.useState)(!1),z=Object(d.a)(q,2),E=z[0],F=z[1],U=Object(C.b)(),V=Object(a.useCallback)((function(e){W(e)}),[]),M=Object(Pe.a)({onDrop:V}),J=M.getRootProps,Y=M.getInputProps,T=function(){e.toggle(!e.open)};Object(a.useEffect)((function(){}),[]);var H=function(){var e=Object(j.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n.length&&0!==o.length&&0!==N.length){e.next=2;break}return e.abrupt("return",B(!0));case 2:return(t=new FormData).append("name",n),t.append("status",O),t.append("duedate",g),t.append("url",o),t.append("file",N[0]),e.prev=8,F(!0),e.next=12,U(he(t));case 12:e.sent.type.endsWith("fulfilled")&&T(),F(!1),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(8),F(!1),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[8,17]])})));return function(){return e.apply(this,arguments)}}(),$=Object(R.jsxs)("div",Object(I.a)(Object(I.a)({className:"dropzone-container"},J()),{},{style:D&&0===(null===N||void 0===N?void 0:N.length)?{borderColor:"red",borderWidth:"3px",color:"red"}:null,children:[Object(R.jsx)("input",Object(I.a)({},Y())),Object(R.jsx)("p",{children:"\u05d2\u05e8\u05d5\u05e8 \u05d5\u05e9\u05d7\u05e8\u05e8 \u05e7\u05d5\u05d1\u05e5, \u05d0\u05d5 \u05dc\u05d7\u05e5 \u05dc\u05d1\u05d7\u05d9\u05e8\u05d4"}),Object(R.jsx)(Ie.a,{sx:Ue.CloudUploadIcon})]})),G=Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("br",{}),Object(R.jsx)(w.a,{required:!0,error:D&&0===(null===n||void 0===n?void 0:n.length),id:"outlined-required",variant:"outlined",label:"Project Name",value:n,sx:Ue.textField,onChange:function(e){return c(e.target.value)},fullWidth:!0}),Object(R.jsx)(w.a,{required:!0,error:D&&0===(null===o||void 0===o?void 0:o.length),id:"outlined-required",variant:"outlined",value:o,label:"Website URL",sx:Ue.textField,onChange:function(e){return u(e.target.value)},fullWidth:!0}),Object(R.jsx)(De.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:O,label:"Status",fullWidth:!0,onChange:function(e){return x(e.target.value)},children:Object.values(Be).map((function(e,t){return Object(R.jsx)(Ae.a,{value:t,children:e})}))}),Object(R.jsx)("div",{style:{margin:"10px"}}),Object(R.jsx)(qe.a,{dateAdapter:Ee.a,children:Object(R.jsx)(ze.a,{label:"Due date",value:g,onChange:function(e){y(e)},renderInput:function(e){return Object(R.jsx)(w.a,Object(I.a)({},e))}})}),Object(R.jsx)("div",{style:{margin:"10px"}})]});return Object(R.jsxs)(ge.a,{open:e.open,sx:Ue.dialogContainer,children:[Object(R.jsx)(we.a,{children:"Create New Project"}),Object(R.jsxs)(ye.a,{children:[D&&Object(R.jsx)(L.a,{severity:"error",children:"All fields are required."}),G,$]}),Object(R.jsxs)(Ce.a,{children:[E&&Object(R.jsx)("img",{src:ke,width:50,alt:""}),Object(R.jsx)(f.a,{variant:"text",onClick:function(){T()},children:"Cancel"}),Object(R.jsx)(h.a,{sx:{flex:"1 1 auto"}}),Object(R.jsx)(f.a,{variant:"contained",onClick:H,children:"Create"})]})]})}var Ue={dialogContainer:{direction:"ltr",minWidth:"500px"},alert:{margin:"2%",direction:"ltr"},textField:{margin:"2% 0",border:"0px",overflow:"hidden"},CloudUploadIcon:{margin:"0 2% "},addWorkdays:{width:"100%",justifyContent:"center",alignItems:"center",display:"flex",padding:"2% 0",color:"rgba(0, 0, 0, 0.6)"},addButton:{bgcolor:"success"}};var Le=[{field:"id",headerName:"ID",width:70},{field:"text",headerName:"Comment",width:600},{field:"createdAt",headerName:"Created At",width:250}];function Ve(e){var t,r=function(){var e=Object(C.b)(),t=Object(C.c)((function(e){return e.projects.commentslist})),r=function(){var t=Object(j.a)(Object(l.a)().mark((function t(r){return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(Oe(r));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{comments:t,getComments:r}}(),n=function(){e.toggle(!1)};Object(a.useEffect)((function(){var t,n;null!==(t=e.parent)&&void 0!==t&&t.id&&r.getComments(null===(n=e.parent)||void 0===n?void 0:n.id)}),[null===(t=e.parent)||void 0===t?void 0:t.id]);var c=Object(a.useMemo)((function(){var e;return null===(e=r.comments)||void 0===e?void 0:e.map((function(e){return e}))}),[r.comments]);return Object(R.jsxs)(ge.a,{open:e.open,onClose:n,fullWidth:!0,maxWidth:"lg",children:[Object(R.jsx)(we.a,{children:"Comments List"}),Object(R.jsx)(ye.a,{children:c&&Object(R.jsx)(ne.a,{rows:c,columns:Le,pageSize:10,rowsPerPageOptions:[5],checkboxSelection:!0})}),Object(R.jsx)(Ce.a,{children:Object(R.jsx)(f.a,{onClick:n,children:"Cancel"})})]})}function Re(){var e,t=Object(a.useState)(!1),r=Object(d.a)(t,2),n=r[0],c=r[1],i=Object(a.useState)(!1),s=Object(d.a)(i,2),o=s[0],u=s[1],b=Object(a.useState)(!1),p=Object(d.a)(b,2),x=p[0],m=p[1],v=Object(a.useState)(),g=Object(d.a)(v,2),w=g[0],y=g[1],k=function(){var e=Object(C.b)(),t=Object(a.useState)(),r=Object(d.a)(t,2),n=(r[0],r[1]),c=Object(C.c)((function(e){return e.projects.list})),i=Object(C.c)((function(e){return e.projects.search})),s=function(){var t=Object(j.a)(Object(l.a)().mark((function t(){return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(pe());case 2:t.sent.type.endsWith("rejected")&&n(!0);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){s()}),[]),{list:i?c.filter((function(e){var t;return null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(i.toLowerCase())})):c,refresh:s}}(),S=function(e){return function(){y(e.value),u(!o)}},N=function(e){return function(){y(e.value),m(!x)}},W=[{field:"id",headerName:"ID",width:70},{field:"name",headerName:"Name",width:180,renderCell:function(e){var t,r=null===e||void 0===e?void 0:e.value.image;return Object(R.jsxs)(h.a,{sx:Me.ProjectNameCell,children:[Object(R.jsx)(O.a,{alt:"Project",src:"https://zigit-projects.herokuapp.com/uploads/"+r}),null===e||void 0===e||null===(t=e.value)||void 0===t?void 0:t.name]})}},{field:"url",headerName:"Website URL",width:350},{field:"status",headerName:"Status",width:200},{field:"duedate",headerName:"Due date",width:280,renderCell:function(e){var t=e.value.duedate,r=e.value.status;return ce()(t).isSameOrBefore(ce()())&&"Active"===Be[r]?Object(R.jsxs)(re.a,{direction:"row",spacing:1,children:[Object(R.jsx)(te.a,{"aria-label":"add",color:"error",children:Object(R.jsx)(Q.a,{})}),Object(R.jsx)("p",{style:{margin:"auto 0"},children:t})]}):Object(R.jsx)(re.a,{direction:"row",spacing:1,children:Object(R.jsx)("p",{style:{margin:"auto 0"},children:t})})}},{field:"actions",headerName:"Add Comment",width:280,renderCell:function(e){return Object(R.jsxs)(re.a,{direction:"row",spacing:1,children:[Object(R.jsx)(te.a,{"aria-label":"add",color:"success",onClick:S(e),children:Object(R.jsx)(G.a,{})}),Object(R.jsx)(te.a,{"aria-label":"list",color:"primary",onClick:N(e),children:Object(R.jsx)(Z.a,{})})]})}}],I=(null===(e=k.list)||void 0===e?void 0:e.length)>0&&k.list.map((function(e){return{id:e.id,name:{name:e.name,image:e.image},url:e.url,status:Be[e.status],duedate:e,actions:e}}));return Object(R.jsxs)(h.a,{sx:Me.Box,children:[Object(R.jsx)(Fe,{open:n,toggle:c}),Object(R.jsx)(Se,{open:o,toggle:u,parent:w,refresh:k.refresh}),x&&Object(R.jsx)(Ve,{open:x,toggle:m,parent:w}),Object(R.jsx)(ee.a,{title:"Projects Management",sx:Me.CardHeader,action:Object(R.jsx)(f.a,{variant:"contained",endIcon:Object(R.jsx)(H.a,{}),sx:Me.AddButton,onClick:function(){c(!0)},children:"Create New Project"})}),Object(R.jsx)(_.a,{}),I&&Object(R.jsx)(ne.a,{rows:I,columns:W,pageSize:5,rowsPerPageOptions:[5]})]})}var Me={AddButton:{direction:"ltr",backgroundColor:"#0369ff"},DeleteIcon:{marginLeft:"20%",color:"red"},EditIcon:{marginRight:"20%"},Box:{height:"100%",width:"100%",marginLeft:"2%",backgroundColor:"white"},CardHeader:{textAlign:"left"},ProjectNameCell:{display:"flex",flexDirection:"row",alignItems:"center"}};function Je(){var e=Object(C.b)();return Object(R.jsxs)("div",{className:"dashboard-container",children:[Object(R.jsx)("header",{className:"dashboard-header",children:Object(R.jsx)("a",{href:"/",children:Object(R.jsx)("h1",{children:"Projector"})})}),Object(R.jsxs)("section",{className:"row main-section",children:[Object(R.jsx)("div",{className:"col-2 sidemenu-container",children:Object(R.jsx)(w.a,{id:"outlined-basic",label:"Search By Name",variant:"outlined",onChange:function(t){return e(me(t.target.value))}})}),Object(R.jsx)("main",{className:"col-10 main",children:Object(R.jsx)("div",{className:"datagrid-container ",children:Object(R.jsx)(Re,{})})})]})]})}var Ye=function(e){return e.user?Object(R.jsx)(o.b,{}):Object(R.jsx)(o.a,{to:"/login"})};var Te=function(){return Object(R.jsx)(u.a,{children:Object(R.jsx)(o.e,{children:Object(R.jsxs)(o.c,{path:"/",children:[Object(R.jsx)(o.c,{index:!0,element:Object(R.jsx)(M,{})}),Object(R.jsx)(o.c,{path:"login",element:Object(R.jsx)(M,{})}),Object(R.jsx)(o.c,{path:"register",element:Object(R.jsx)(J,{})}),Object(R.jsx)(o.c,{element:Object(R.jsx)(Ye,{user:function(){return localStorage.getItem(k)}}),children:Object(R.jsx)(o.c,{path:"projects",element:Object(R.jsx)(Je,{})})})]})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var He=Object(W.a)({reducer:{user:U,projects:ve}});s.a.render(Object(R.jsx)(c.a.StrictMode,{children:Object(R.jsx)(C.a,{store:He,children:Object(R.jsx)(Te,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[248,1,2]]]);
//# sourceMappingURL=main.556a0687.chunk.js.map